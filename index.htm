<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Campus Map</title>
	<meta name="description" content="">
	<!-- <meta name="viewport" content="width=device-width"> google -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><!-- leaflet -->
	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="stylesheet" href=".tmp/styles/main.css">

	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
	<!--[if lte IE 8]>
	    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
	<![endif]-->

	<!-- build:js scripts/vendor/modernizr.js -->
	<script src="bower_components/modernizr/modernizr.js"></script>
	<!-- endbuild -->
</head>
<body>
	
	<div id="campusmap">campusmap</div>
	
	<div id="map-wrap">
		<div id="map-canvas"></div>
	</div>

	<div id="ui-search"></div>

	<div id="log" class="shadow">
		<ul>
			<li><a href="#" data-cmd="panelA">panel A</a></li>
			<li><a href="#" data-cmd="panelB">panel B</a></li>
			<li><a href="#" data-cmd="panelC">panel C</a></li>
			<li><a href="#" data-cmd="panelA_panelB">panels A_B</a></li>
			<li><a href="#" data-cmd="panelA_panelC">panels A_C</a></li>
			<li><a href="#" data-cmd="panelB_panelC">panels B_C</a></li>
			<li><a href="#" data-cmd="panelA_panelB_panelC">panels A_B_C</a></li>
			<li><a href="#" data-cmd="test">panels multi</a></li>
		</ul>
	</div>	
	<!-- build:js scripts/main.js -->
	<script data-main="app/main" src="bower_components/requirejs/require.js"></script>

	<!-- endbuild -->
	<script>
		
		require(['./scripts/moduleManager', 'main'], function(ModuleManager) {

			var mappings = ModuleManager.getOverrides(window.location.search);

			console.log('mappings', mappings);

		    require.config({

		        // '*' signifies that these mappings should be used everywhere (all modules)
		        map: { '*':  mappings  }

		    });

			require(['domReady!', 'app'], function (doc, App) {

			    console.info('The DOM is ready before I happen', doc);

			    var app = new App({

			    	el: document.getElementById('campusmap'),

		            campusid: 'medford',

		            latlng: null,

		            locations: []

		        });

			});

		});

	</script>	
	
</body>
</html>
